Data Center TCP with Hysteresis in P4 Switches
Packet congestion in computer networks significantly degrades system performance. This work proposes enhancements for data center networks, particularly under congestion scenarios, where the standard Data Center TCP (DCTCP) protocol is typically deployed. We introduce two novel approaches: (1) hysteresis-based queue management in P4-programmable switches to mark packets during congestion states, and (2) congestion-triggered packet return to dynamically throttle sender rates. Implemented in P4 and validated alongside DCTCP, both methods demonstrate measurable improvements in network throughput. The hysteresis technique reduces oscillatory packet marking by stabilizing queue occupancy thresholds, while the packet-return mechanism provides faster congestion feedback compared to traditional ECN (Explicit Congestion Notification). These results highlight the potential of programmable data planes to augment legacy transport protocols without requiring endpoint modifications.